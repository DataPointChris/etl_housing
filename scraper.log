2020-01-30 21:03:09,188:__main__:Started Scraping
2020-01-30 21:03:09,188:__main__:Getting url_list
2020-01-30 21:06:22,596:__main__:Done getting url_list, length of 2482
2020-01-30 21:06:22,596:__main__:Elapsed time: 3.22 minutes
2020-01-30 21:06:22,596:__main__:Getting apartment data from url_list
2020-01-30 21:27:55,793:__main__:URL 500 of 2482
2020-01-30 21:43:43,242:__main__:URL 1000 of 2482
2020-01-30 21:44:21,620:__main__:Failed: 404
2020-01-30 21:44:21,620:__main__:Error adding data to list
Traceback (most recent call last):
  File "trulia_scrape.py", line 137, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "trulia_scrape.py", line 85, in get_apartment_data
    for floor_plan_table in soup.find_all('table', {'data-testid': 'floor-plan-group'}):
UnboundLocalError: local variable 'soup' referenced before assignment
2020-01-30 21:56:17,380:__main__:URL 1500 of 2482
2020-01-30 22:12:28,642:__main__:URL 2000 of 2482
2020-01-30 22:23:44,910:__main__:Finished getting apartment data. Total apartments: 8006
2020-01-30 22:23:44,912:__main__:Elapsed time: 77.37 minutes
2020-01-30 22:23:44,912:__main__:Creating DataFrame from apartment list.
2020-01-30 22:23:45,052:__main__:Saved scraped data to csv
2020-01-30 22:23:45,223:__main__:Finished.  Total program time: 80.6 minutes
2020-01-31 09:24:55,183:__main__:Started Scraping
2020-01-31 09:24:55,183:__main__:Getting url_list
2020-01-31 09:27:56,752:__main__:Done getting url_list, length of 2476
2020-01-31 09:27:56,752:__main__:Elapsed time: 3.03 minutes
2020-01-31 09:27:56,753:__main__:Getting apartment data from url_list
2020-01-31 09:42:54,246:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 456, in wrap_socket
    cnx.do_handshake()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1915, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1640, in _raise_ssl_error
    raise SysCallError(-1, "Unexpected EOF")
OpenSSL.SSL.SysCallError: (-1, 'Unexpected EOF')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 343, in _make_request
    self._validate_conn(conn)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 839, in _validate_conn
    conn.connect()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 344, in connect
    ssl_context=context)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/ssl_.py", line 347, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 462, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ("bad handshake: SysCallError(-1, 'Unexpected EOF')",)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 399, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/502-elmwood-pl-206-austin-tx-78705--2443014547 (Caused by SSLError(SSLError("bad handshake: SysCallError(-1, 'Unexpected EOF')")))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "trulia_scrape.py", line 137, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "trulia_scrape.py", line 77, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/502-elmwood-pl-206-austin-tx-78705--2443014547 (Caused by SSLError(SSLError("bad handshake: SysCallError(-1, 'Unexpected EOF')")))
2020-01-31 09:48:09,731:__main__:URL 500 of 2476
2020-01-31 10:00:51,041:__main__:URL 1000 of 2476
2020-01-31 10:01:07,329:__main__:Failed: 404
2020-01-31 10:01:07,330:__main__:Error adding data to list
Traceback (most recent call last):
  File "trulia_scrape.py", line 137, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "trulia_scrape.py", line 85, in get_apartment_data
    for floor_plan_table in soup.find_all('table', {'data-testid': 'floor-plan-group'}):
UnboundLocalError: local variable 'soup' referenced before assignment
2020-01-31 10:14:27,060:__main__:URL 1500 of 2476
2020-01-31 10:28:42,690:__main__:URL 2000 of 2476
2020-01-31 10:40:07,081:__main__:Finished getting apartment data. Total apartments: 7697
2020-01-31 10:40:07,081:__main__:Elapsed time: 72.17 minutes
2020-01-31 10:40:07,081:__main__:Creating DataFrame from apartment list.
2020-01-31 10:40:07,230:__main__:Saved scraped data to csv
2020-01-31 10:40:07,433:__main__:Finished.  Total program time: 75.2 minutes
2020-02-03 09:31:53,528:__main__:Started Scraping
2020-02-03 09:31:53,528:__main__:Getting url_list
2020-02-03 09:34:51,823:__main__:Done getting url_list, length of 2464
2020-02-03 09:34:51,823:__main__:Elapsed time: 2.97 minutes
2020-02-03 09:34:51,823:__main__:Getting apartment data from url_list
2020-02-03 09:52:28,503:__main__:URL 500 of 2464
2020-02-03 10:04:34,109:__main__:URL 1000 of 2464
2020-02-03 10:17:01,429:__main__:URL 1500 of 2464
2020-02-03 10:27:20,254:__main__:URL 2000 of 2464
2020-02-03 10:36:25,064:__main__:Finished getting apartment data. Total apartments: 7846
2020-02-03 10:36:25,064:__main__:Elapsed time: 61.55 minutes
2020-02-03 10:36:25,064:__main__:Creating DataFrame from apartment list.
2020-02-03 10:36:25,170:__main__:Saved scraped data to csv
2020-02-03 10:36:25,312:__main__:Finished.  Total program time: 64.53 minutes
2020-02-04 06:00:01,641:__main__:Started Scraping
2020-02-04 06:00:01,641:__main__:Getting url_list
2020-02-04 06:04:07,515:__main__:Done getting url_list, length of 2493
2020-02-04 06:04:07,516:__main__:Elapsed time: 4.1 minutes
2020-02-04 06:04:07,516:__main__:Getting apartment data from url_list
2020-02-04 06:09:12,156:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 456, in wrap_socket
    cnx.do_handshake()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1915, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1626, in _raise_ssl_error
    raise ZeroReturnError()
OpenSSL.SSL.ZeroReturnError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 343, in _make_request
    self._validate_conn(conn)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 839, in _validate_conn
    conn.connect()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 344, in connect
    ssl_context=context)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/ssl_.py", line 347, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 462, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ('bad handshake: ZeroReturnError()',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 399, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /c/tx/austin/the-gallery-3622-manchaca-rd-austin-tx-78704--2072097228 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /c/tx/austin/the-gallery-3622-manchaca-rd-austin-tx-78704--2072097228 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))
2020-02-04 06:20:53,035:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 159, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/connection.py", line 57, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/home/datapointchris/anaconda3/lib/python3.7/socket.py", line 748, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -2] Name or service not known

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 343, in _make_request
    self._validate_conn(conn)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 839, in _validate_conn
    conn.connect()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 301, in connect
    conn = self._new_conn()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 168, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
urllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0x7f4f6fd9b0f0>: Failed to establish a new connection: [Errno -2] Name or service not known

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 399, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /c/tx/austin/terrace-cove-apartments-6201-sneed-cv-austin-tx-78744--2072210506 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f4f6fd9b0f0>: Failed to establish a new connection: [Errno -2] Name or service not known'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /c/tx/austin/terrace-cove-apartments-6201-sneed-cv-austin-tx-78744--2072210506 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f4f6fd9b0f0>: Failed to establish a new connection: [Errno -2] Name or service not known'))
2020-02-04 06:29:18,567:__main__:URL 500 of 2493
2020-02-04 06:39:16,577:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 456, in wrap_socket
    cnx.do_handshake()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1915, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1626, in _raise_ssl_error
    raise ZeroReturnError()
OpenSSL.SSL.ZeroReturnError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 343, in _make_request
    self._validate_conn(conn)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 839, in _validate_conn
    conn.connect()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 344, in connect
    ssl_context=context)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/ssl_.py", line 347, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 462, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ('bad handshake: ZeroReturnError()',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 399, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/4606-sojourner-st-austin-tx-78725--2072128547 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/4606-sojourner-st-austin-tx-78725--2072128547 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))
2020-02-04 06:46:19,523:__main__:URL 1000 of 2493
2020-02-04 06:46:26,971:__main__:Failed: 404
2020-02-04 06:46:26,972:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 89, in get_apartment_data
    for floor_plan_table in soup.find_all('table', {'data-testid': 'floor-plan-group'}):
UnboundLocalError: local variable 'soup' referenced before assignment
2020-02-04 07:00:49,870:__main__:URL 1500 of 2493
2020-02-04 07:15:54,056:__main__:URL 2000 of 2493
2020-02-04 07:32:30,598:__main__:Finished getting apartment data. Total apartments: 7806
2020-02-04 07:32:30,598:__main__:Elapsed time: 88.38 minutes
2020-02-04 07:32:30,598:__main__:Creating DataFrame from apartment list.
2020-02-04 07:32:30,712:__main__:Saved scraped data to csv
2020-02-04 07:32:30,847:__main__:Finished.  Total program time: 92.49 minutes
2020-02-05 06:00:02,258:__main__:Started Scraping
2020-02-05 06:00:02,258:__main__:Getting url_list
2020-02-05 06:03:34,006:__main__:Done getting url_list, length of 2392
2020-02-05 06:03:34,007:__main__:Elapsed time: 3.53 minutes
2020-02-05 06:03:34,007:__main__:Getting apartment data from url_list
2020-02-05 06:24:30,303:__main__:URL 500 of 2392
2020-02-05 06:36:32,834:__main__:Failed: 404
2020-02-05 06:36:32,835:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 89, in get_apartment_data
    for floor_plan_table in soup.find_all('table', {'data-testid': 'floor-plan-group'}):
UnboundLocalError: local variable 'soup' referenced before assignment
2020-02-05 06:37:13,567:__main__:URL 1000 of 2392
2020-02-05 06:56:09,402:__main__:URL 1500 of 2392
2020-02-05 07:07:57,392:__main__:URL 2000 of 2392
2020-02-05 07:16:58,645:__main__:Finished getting apartment data. Total apartments: 7988
2020-02-05 07:16:58,645:__main__:Elapsed time: 73.41 minutes
2020-02-05 07:16:58,645:__main__:Creating DataFrame from apartment list.
2020-02-05 07:16:58,764:__main__:Saved scraped data to csv
2020-02-05 07:16:58,899:__main__:Finished.  Total program time: 76.94 minutes
2020-02-06 06:00:01,757:__main__:Started Scraping
2020-02-06 06:00:01,757:__main__:Getting url_list
2020-02-06 06:03:12,979:__main__:Done getting url_list, length of 2501
2020-02-06 06:03:12,979:__main__:Elapsed time: 3.19 minutes
2020-02-06 06:03:12,979:__main__:Getting apartment data from url_list
2020-02-06 06:18:54,903:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 384, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 380, in _make_request
    httplib_response = conn.getresponse()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 1321, in getresponse
    response.begin()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/home/datapointchris/anaconda3/lib/python3.7/socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 302, in recv_into
    raise SocketError(str(e))
OSError: (104, 'ECONNRESET')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/packages/six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 384, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 380, in _make_request
    httplib_response = conn.getresponse()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 1321, in getresponse
    response.begin()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/home/datapointchris/anaconda3/lib/python3.7/socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 302, in recv_into
    raise SocketError(str(e))
urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError("(104, 'ECONNRESET')"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError("(104, 'ECONNRESET')"))
2020-02-06 06:22:24,574:__main__:URL 500 of 2501
2020-02-06 06:23:58,526:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 384, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 380, in _make_request
    httplib_response = conn.getresponse()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 1321, in getresponse
    response.begin()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/packages/six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 384, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 380, in _make_request
    httplib_response = conn.getresponse()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 1321, in getresponse
    response.begin()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "/home/datapointchris/anaconda3/lib/python3.7/http/client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2020-02-06 06:34:28,887:__main__:Failed: 404
2020-02-06 06:34:28,888:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 89, in get_apartment_data
    for floor_plan_table in soup.find_all('table', {'data-testid': 'floor-plan-group'}):
UnboundLocalError: local variable 'soup' referenced before assignment
2020-02-06 06:34:35,982:__main__:URL 1000 of 2501
2020-02-06 06:51:26,216:__main__:URL 1500 of 2501
2020-02-06 07:04:09,301:__main__:URL 2000 of 2501
2020-02-06 07:09:25,055:__main__:Error adding data to list
Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 456, in wrap_socket
    cnx.do_handshake()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1915, in do_handshake
    self._raise_ssl_error(self._ssl, result)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/OpenSSL/SSL.py", line 1626, in _raise_ssl_error
    raise ZeroReturnError()
OpenSSL.SSL.ZeroReturnError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 600, in urlopen
    chunked=chunked)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 343, in _make_request
    self._validate_conn(conn)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 839, in _validate_conn
    conn.connect()
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connection.py", line 344, in connect
    ssl_context=context)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/ssl_.py", line 347, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py", line 462, in wrap_socket
    raise ssl.SSLError('bad handshake: %r' % e)
ssl.SSLError: ('bad handshake: ZeroReturnError()',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/connectionpool.py", line 638, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/urllib3/util/retry.py", line 399, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/7626-parkview-cir-austin-tx-78731--1150751443 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 141, in get_all_apartments
    apts_data.extend(get_apartment_data(base_url, current_url))
  File "/home/datapointchris/github/etl_housing/trulia_scrape.py", line 81, in get_apartment_data
    response = requests.get(base_url+current_url, headers=headers)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 75, in get
    return request('get', url, params=params, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/api.py", line 60, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/home/datapointchris/anaconda3/lib/python3.7/site-packages/requests/adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='www.trulia.com', port=443): Max retries exceeded with url: /p/tx/austin/7626-parkview-cir-austin-tx-78731--1150751443 (Caused by SSLError(SSLError('bad handshake: ZeroReturnError()')))
2020-02-06 07:15:49,291:__main__:URL 2500 of 2501
2020-02-06 07:15:51,878:__main__:Finished getting apartment data. Total apartments: 8140
2020-02-06 07:15:51,878:__main__:Elapsed time: 72.65 minutes
2020-02-06 07:15:51,878:__main__:Creating DataFrame from apartment list.
2020-02-06 07:15:51,976:__main__:Saved scraped data to csv
2020-02-06 07:15:52,119:__main__:Finished.  Total program time: 75.84 minutes
